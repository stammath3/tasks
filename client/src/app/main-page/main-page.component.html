@if (isAddingUser) {
  <app-new-user (close)="onCloseAddTask()"/>
}

<app-header />


<main>
  <div class="row">
    <div class="col-12">
      <div class="row">
        <div class="col-12">
          <ul id="users">
        
            @for (user of users; track user.id) {
              <li>
                <app-user 
                [user]="user"
                [selected]="user.id === selectedUserId"
                (select)="onSelectUser($event)" />
                <!-- <img 
                  src="assets/bin.svg" 
                  alt="Delete User" 
                  class="delete-icon"
                  (click)="deleteUser(user.id!)" /> -->
              </li>
            }
         
         
        
          <!-- legacy way -->
            <!-- <li *ngFor="let user of users">
              <app-user 
              [user]="user"
              (select)="onSelectUser($event)" />
            </li> -->
      
        </ul>
        </div>

      </div>
     
      <div class="row" style="justify-content: center;">
        <div class="col-12" style="padding-top: 4%;">
          <button  (click)="addUser()" style="width: 100%;">
            Add User
          </button>
        </div>
      </div>

    </div>
  </div>

  <div class="row">
    <div class="col-12">
 <!-- <app-tasks userName="{{userName}}" /> -->
 @if (selectedUser) {
  <app-tasks [userName]="selectedUser ? selectedUser.userName: 'none'"
  [userId]="selectedUser.id ? selectedUser.id: 0" /> 
 } @else if(!selectedUser) {
    <p id = "fallback">Select a user to see tasks!</p>
 } @else {

 }


 <!-- Legacy way -->
  <!-- <app-tasks *ngIf="selectedUser; else fallback" [userName]="selectedUser ? selectedUser.name: 'none'" /> 
 
  <ng-template #fallback>
    <p id = "fallback">Select a user to see tasks!</p>
  </ng-template> -->



    </div>
   
  </div>
</main>