<div class="backdrop" (click)="onCancel()"></div>
<dialog open>
  <h2>Add User</h2>
  <form #userForm="ngForm" (ngSubmit)="onSubmit()">
    <p>
      <label for="username">Username</label>
      <input type="text" id="username" name="username" [(ngModel)]="usernameField" required 
      #username="ngModel"
      [ngClass]="{'invalid': username?.invalid && username?.touched}"
      />
    
    </p>
    <div *ngIf="username?.invalid && username?.touched" class="error-message">
      Username is required.
    </div>

    <p>
        <label for="avatar">Avatar</label>
        <!-- Avatar Selection -->
        <div class="avatar-selection">
          <div *ngFor="let avatar of avatarImages" class="avatar-item">
            <img
              [src]="avatar"
              alt="avatar"
              (click)="selectAvatar(avatar)"
              [class.selected]="avatar === avatarField"
            />
          </div>
        </div>

    <p>

    <p class="actions">
      <button type="button" (click)="onCancel()">Cancel</button>
      <button type="submit"
      [disabled]="userForm.invalid" 
        [ngStyle]="{'opacity': userForm.invalid ? '0.5' : '1'}"
      >Create</button>
    </p>
  </form>
</dialog>